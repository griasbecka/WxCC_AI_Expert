<!DOCTYPE html>
<html>
<head>
  <title>ACP DemoCRM</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background-color: #f9f9f9;
      margin: 0;
      padding: 0;
    }

    .container {
      max-width: 1600px;
      margin: 0 auto;
      padding: 5px;
      background-color: #fff;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    }

    .header {
      text-align: center;
      margin-bottom: 10px;
    }
	
	.myhead {
	  border: 1px solid #3D4A52;
	  background: #3D4A52;
	  color: #fff;
	  border-radius: 4px;
	}

    h1 {
      color: #fff;
	  font-size: 22px;
    }
	
	h2 {
      color: #3D4A52;
	  font-size: 14px;
	  font-weight: bold;
	  background-color: #AAC936;
	  padding: 3px;
	  padding-left: 10px;
	  border-radius: 4px;
    }

    .form-group {
      margin-bottom: 5px;
    }

    label {
      display: block;
      font-weight: bold;
	  font-size: 16px;
      margin-bottom: 5px;
	  display: inline-block;
    }

    .readonly-field {
      background-color: #f2f2f2;
      padding: 6px;
      border: none;
      border-radius: 4px;
      color: #333;
      width: 90%;
    }
	
	.readonly-field-small {
      background-color: #f2f2f2;
      padding: 6px;
      border: none;
      border-radius: 4px;
      color: #333;
      width: 87%;
    }
	
	.readonly-field-extrasmall {
      background-color: #f2f2f2;
      padding: 6px;
      border: none;
      border-radius: 4px;
      color: #333;
      width: 35%;
    }

    .readonly-field_bold {
      background-color: #f2f2f2;
      padding: 6px;
      border: none;
      border-radius: 4px;
      color: #b00e2c;
      font-weight: bold;
      width: 90%;
    }
	
	.readonly-field_bold-small {
      background-color: #f2f2f2;
      padding: 6px;
      border: none;
      border-radius: 4px;
      color: #b00e2c;
      font-weight: bold;
      width: 87%;
    }

    .sub-section {
      margin-top: 20px;
    }

    .sub-section h2 {
      /*color: #3D4A52;*/
      margin-bottom: 10px;
    }

    .contact-persons-table {
      width: 93%;
      border-collapse: collapse;
	  margin-left: 40px;
    }

    .contact-persons-table th{
      padding: 8px;
	  text-align: left;
      border-bottom: 1px solid #ddd;
	  font-size: 14px;
	  background-color: #f2f2f2;
    }
	
    .contact-persons-table td {
      padding: 8px;
	  text-align: left;
      border-bottom: 1px solid #ddd;
	  font-size: 14px;
    }

    button {
      background-color: #3D4A52;
      color: white;
      padding: 10px 20px;
      border: none;
      cursor: pointer;
      font-size: 16px;
      border-radius: 4px;
      transition: background-color 0.3s ease;
	  width: 200px;
    }

    button:hover {
      background-color: #AAC936;
	  color: #3D4A52;
	  font-weight: bold;
    }

    .column {
      width: 50%;
      float: left;
      box-sizing: border-box;
      padding-right: 10px;
    }

    @media (max-width: 600px) {
      .column {
        width: 100%;
        padding-right: 0;
      }
    }
  </style>
  <script>
    // Holt den gesamten Querystring der URL (param1=hallo&param2=echo)
    const queryString = window.location.search;
    
    // Extrahiert aus dem Querystring einzelne Parameter
    const urlParams = new URLSearchParams(queryString);
      
    // Liest mit .get() die Werte der Parameter aus
    const sAnrufer = urlParams.get('sAnrufer').replace("+", "%2B");
    
    //sAnrufer=sAnrufer.replace("+", "%2B");

    var DBconURL = 'https://webexdb.swsnet.de/rest/webexcc/a395418d-20c8-4b1b-b3a4-65081aeb359d?sAnrufer='+sAnrufer;

    var myHeaders = new Headers();
    myHeaders.append("Cookie", "JSESSIONID=30B05B948B696117347EA0E8774E0865");
    //myHeaders.append("Access-Control-Allow-Origin", "http://is-passau.de");

    var requestOptions = {
      method: 'GET',
      /*mode: "no-cors",*/
      headers: myHeaders,
      redirect: 'follow'
    };
    
    /*
    fetch(DBconURL, requestOptions)
      .then(result => {
        //alert(result);
        //document.getElementById("content").innerHTML = 'result: '+result;        
        document.getElementById("sanrufer").value = sAnrufer.replace("%2B", "+");
        alert('yeah');
                
        alert(response.json());
        console.log(response.json());
        
      })
      .catch(error => {
        document.getElementById("sanrufer").value = sAnrufer.replace("%2B", "+");
        alert('error', error);        
      });    
    */
    /*
    const response = fetch(DBconURL, requestOptions);
    const jsonData = response.json();
    alert(jsonData);
    */
    async function AskDBcon() 
    {
      try
      {
		/*
          const response = await fetch(DBconURL, requestOptions);
          const jsonData = await response.json();
          console.log(jsonData);
		*/
          document.getElementById("mylasttime").value = jsonData.mylasttime;
          document.getElementById("mylastagent").value = jsonData.sagentemail;
      }
      catch(error)
      {

      }
      document.getElementById("sanrufer").value = sAnrufer.replace("%2B", "+");
    }
    AskDBcon();    
    
  </script>
</head>
<body>
  <div class="container">
    <div class="header">
	  <!--<table class=myhead width="100%"><tr><td width=120><img src='https://wxcc1.demos.efa.ai/images/ACP_logo.png' border=0 width=50></td><td align=left><h1>Demo-Maske</h1></td></tr></table>-->
		<table class=myhead width="100%"><tr><td width=120><img src='https://griasbecka.github.io/WxCC_AI_Expert/ACP_logo.png' border=0 width=50></td><td align=left><h1>Demo-Maske</h1></td></tr></table>
    </div>
    <div class="upper-section">
      <div class="column">
        <form>
          <div class="form-group">
            <table border=0 width="100%"><tr><td width=150><label for="company">Firma</label></td><td><input type="text" id="company" name="company" class="readonly-field" value="Beispiel GmbH"></td></tr></table>
          </div>
          <div class="form-group">
            <table border=0 width="100%"><tr><td width=150><label for="company">Adresse</label></td><td><input type="text" id="company" name="company" class="readonly-field" value="Musterstrasse 123, 94051 Hauzenberg"></td></tr></table>			
          </div>	
		  <div class="form-group">
            <table border=0 width="100%"><tr><td width=150><label for="company">Account-Manager</label></td><td><input type="text" id="mylasttime" name="mylasttime" class="readonly-field-extrasmall" value="Godfather of Salesplay">
			&nbsp;<a href='webexteams://im?email=stefan.slominski@acp.de'>Webex chat</a>
			&nbsp;<a href='webextel://+4985869604160'>Anruf</a>
			</td></tr></table>
          </div>		  
			<hr>		  
          <div class="form-group">
            <table border=0 width="100%"><tr><td width=300><label for="company">Anfrage zu bestehendem Ticket</label></td><td><input type="text" id="company" name="company" class="readonly-field-small" value="ja / nein"></td></tr></table>
          </div> 
        </form>
      </div>
      <div class="column">
        <form>
          <div class="form-group">		  
            <table border=0 width="100%"><tr><td width=150><label for="company">Telefon Anrufer</label></td><td><input type="text" id="sanrufer" name="sanrufer" class="readonly-field" value="+49123456789"></td></tr></table>
          </div>
          <div class="form-group">
            <table border=0 width="100%"><tr><td width=150><label for="company">Name Anrufer</label></td><td><input type="text" id="company" name="company" class="readonly-field" value="Max Mustermann"></td></tr></table>
          </div>		  
          <div class="form-group">
            <table border=0 width="100%"><tr><td width=150><label for="company">Servicemanager</label></td><td><input type="text" id="mylastagent" name="mylastagent" class="readonly-field" value="Taking Care Guy">
			&nbsp;<a href='webexteams://im?email=stefan.slominski@acp.de'>Webex chat</a>
			&nbsp;<a href='webextel://+4985869604160'>Anruf</a>
			</td></tr></table>
          </div>
			<hr>
          <div class="form-group">
            <table border=0 width="100%"><tr><td width=300><label for="company"><font color=#b00e2c>Aktuell offene Tickets</font></label></td><td><input type="text" id="company" name="company" class="readonly-field_bold-small" value="4"></td></tr></table>
          </div>
        </form>
      </div>
      <div style="clear: both;"></div>
    </div>
    <div class="sub-section">
      <h2>Offene Tickets</h2>
      <table class="contact-persons-table">
        <thead>
          <tr>
            <th width=150>TicketNr</th>
			<th width=400>Topic</th>
            <th width=240>Assignment Group</th>
            <th>Assigned to</th>
			<th>Er√∂ffnet / Letzter Eintrag</th>
			<th>Needs Attention</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td><a href='https://acpprod.service-now.com/change_request.do?sys_id=1daae53283db5e50f5ae9cdfeeaad32c&sysparm_record_target=task&sysparm_record_row=5&sysparm_record_rows=8&sysparm_record_list=active%3Dtrue%5Eassigned_toDYNAMIC90d1921e5f510100a9ad2572f2b477fe%5EstateNOT+IN3%2C4%2C7%2C8%2C5%2C6%5EORDERBYshort_description' target='_blank'>CHG0084341</a></td>
            <td>User in Webex anlegen</td>
            <td>HZB.Collaboration</td>
			<td>Stefan Slominski</td>
			<td>11.09.2025</td>
			<td></td>
          </tr>
          <tr>
            <td><a href='' target='_blank'>CHG1234567</a></td>
            <td>O365 Problem mit Resourcenpostfach</td>
            <td>HZB.EnterpriseApplication</td>
			<td>Stefan Maximilian</td>
			<td>07.09.2025</td>
			<td></td>
          </tr>
		  <tr>
            <td><a href='' target='_blank'>INC1111222</a></td>
            <td>Citrix - Golden Image verschwunden</td>
            <td>HZB.Dispo</td>
			<td></td>
			<td>30.08.2025</td>
			<td>&#9989; &#10071;</td>
          </tr>
		  <tr>
            <td><a href='' target='_blank'>CHG9876543</a></td>
            <td>Projekt Network as a Service</td>
            <td>HZB.SecureInfrastructure Green</td>
			<td>Jonas Pongratz</td>
			<td>08.09.2025</td>
			<td></td>
          </tr>
        </tbody>
      </table>
    </div>	
    <div class="sub-section">
      <h2>Deine Optionen</h2>
      <!--
	  <table class="contact-persons-table">
        <thead>
          <tr>
            <th width=240>Name</th> 
            <th width=240>Abgeschlossen am</th>
            <th>Endet am</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>Vertragsposition 1</td>
            <td>01. Januar 2023</td>
            <td>31. Dezember 2099</td>
          </tr>
          <tr>
            <td>Vertragsposition 2</td>
            <td>01. Februar 2024</td>
            <td>31. Januar 2099</td>
          </tr>
        </tbody>
      </table>
	  -->
    </div>
	<br>
    <div class="footer">
      <button type="submit" disabled>+ Incident</button> 
	  <button type="submit" disabled>+ Presales Anfrage</button> 
	  <button type="submit" disabled>Webex AM</button> 
	  <button type="submit" disabled>Ticketing</button>
    </div>
  </div>
  <div id="content"></div>
</body>
</html>





